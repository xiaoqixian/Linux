### 关于Vim无法复制到剪切板的解决办法

我知道，有一部分Linux用户的vim是无法在visual模式下通过`y`或者`y+`键直接复制到剪切板的，这要求vim具有 `+clipboard` 属性。

看了网上很多教程，都是说直接重装 vim，这个我是不可以接受的，因为YCM插件真的巨难装，你让重新装一遍我宁愿不用这个功能。

后来在知乎网友@郝熊升的帮助下，我终于找到了解决办法。

1.  安装一个小工具 `xclip`，直接命令行安装就好了

2.  这个工具具有将命令行输出复制到剪切板的功能，利用这个功能，再编写一下vimrc文件不就可以达到复制到剪切板的功能了吗？

3.  在vimrc文件中编写下面这个函数：

    ```shell
    fun! visual_paste()
    	execute y
    	call system("xclip -selection c", @")
    endfun
    ```

    这个函数的基本功能就是先执行`y`命令复制选中的内容到`"`寄存器中，然后执行系统命令将`"` 寄存器中的内容复制到剪切板中。

4.  最后我们再写一个map映射一下这个函数

    我的映射是 `vnoremap <leader>y:call visual_paste()`

    这样在visual模式下选中后按 `,`+`y` 复制选中内容到剪切板中，懂vim的同学也可以自定义映射。